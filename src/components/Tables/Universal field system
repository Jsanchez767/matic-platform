┌─────────────────────────────────────────────────────────────────────────────────┐
│                          UNIVERSAL FIELD SYSTEM                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────────┐ │
│  │ field_type_     │    │ table_fields    │    │ table_rows                  │ │
│  │ registry        │◄───│ (field_type_id) │    │ (data JSONB)                │ │
│  │                 │    │                 │    │                             │ │
│  │ - storage_schema│    │ Uses registry   │    │ Validated against           │ │
│  │ - ai_schema     │    │ for validation  │    │ field storage_schema        │ │
│  │ - edit_tracking │    │ & rendering     │    │                             │ │
│  └────────┬────────┘    └────────┬────────┘    └──────────────┬──────────────┘ │
│           │                      │                            │                 │
│           ▼                      ▼                            ▼                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐│
│  │                         DATA CHANGE LAYER                                   ││
│  ├─────────────────────────────────────────────────────────────────────────────┤│
│  │  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────┐ ││
│  │  │ row_versions    │    │ field_changes   │    │ change_requests         │ ││
│  │  │                 │    │                 │    │ (optional approval)     │ ││
│  │  │ - Full row snap │    │ - Field-level   │    │                         │ ││
│  │  │ - Version num   │    │   diff          │    │ - Pending edits         │ ││
│  │  │ - Change reason │    │ - Old/New value │    │ - Approver workflow     │ ││
│  │  └────────┬────────┘    └────────┬────────┘    └─────────────────────────┘ ││
│  │           │                      │                                          ││
│  └───────────┼──────────────────────┼──────────────────────────────────────────┘│
│              │                      │                                           │
│              ▼                      ▼                                           │
│  ┌─────────────────────────────────────────────────────────────────────────────┐│
│  │                         AI INTEGRATION LAYER                                ││
│  ├─────────────────────────────────────────────────────────────────────────────┤│
│  │  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────┐ ││
│  │  │ embedding_queue │    │ search_index    │    │ ai_field_suggestions    │ ││
│  │  │                 │    │                 │    │                         │ ││
│  │  │ - Queue changes │    │ - Indexed data  │    │ - Auto-detect types     │ ││
│  │  │ - Priority      │    │ - Embeddings    │    │ - Smart defaults        │ ││
│  │  │ - Content hash  │    │ - Semantic type │    │ - Validation hints      │ ││
│  │  └─────────────────┘    └─────────────────┘    └─────────────────────────┘ ││
│  └──────────────────────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────────────────────┘